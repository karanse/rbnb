<%# ------------------------PHOTOS------------------------------ %>
<div id="carousel-container-show" class="pb-3">
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <% @listing.photos.each_with_index do |photo, index| %>
          <%= render "shared/carousel", photo: photo, index: index %>
      <% end %>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<%# ------------------------HEADER------------------------------ %>

<h2 class="text-center py-3"> Details of this <%= @listing.category.downcase %> <%= @listing.rating.nil? ? "" : "⭐️" * @listing.rating %> </h2>

<div class="d-flex flex-column align-items-center">
  <div class="w-50">
  <%# ------------------------DETAILS------------------------------ %>
    <div class="card mb-3 bg-light text-center">
    <div class="card-header">
        <h5 class="pt-2">Address</h5>
      </div>
      <div class="card-body">
        <p class="card-title pt-2"><%= @listing.address %></p>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-baseline">
      <div class="card mb-3 bg-light text-center flex-grow-1 mr-3">
        <div class="card-header">
          <h5 class="pt-2">Category</h5>
        </div>
        <div class="card-body">
          <p class="card-title pt-2"><%= @listing.category %></p>
        </div>
      </div>
      <div class="mx-3"></div>
      <div class="card my-3 bg-light text-center">
        <div class="card-header">
          <h5 class="pt-2">Price per night</h5>
        </div>
        <div class="card-body">
          <p class="card-title pt-2">€ <%= @listing.price_per_night %></p>
        </div>
      </div>
    </div>

    <div class="card my-3 bg-light text-center">
      <div class="card-header">
        <h5 class="pt-2">Amenities</h5>
      </div>
      <div class="card-body">
        <p class="card-title"> Number of rooms: <%= @listing.number_of_rooms %> </p>
        <p class="card-title"> <%= @listing.has_garden ? "Garden" : "" %> </p>
        <p class="card-title"> <%= @listing.has_pool ? "Pool" : "" %> </p>
      </div>
    </div>
  </div>
  <%# ------------------------BUTTONS------------------------------ %>
  <div class="d-flex align-items-center">
    <div class="btn btn-flat btn-primary btn-home my-3"><%= link_to "Make booking request", new_listing_offer_path(@listing, @offer) %></div>
    <div class="btn btn-flat btn-primary btn-home mx-3 my-3"><%= link_to "Back to all", listings_index_path %></div>
    <span class="flex-grow-1"></span>
  </div>
</div>
